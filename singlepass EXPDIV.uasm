.include "beta.uasm"

.macro DIVI(RA,RB,RC){
ADD(R31,RB,R26)
ADDC(R31,0x1,R25)
ADDC(R31,0,R24)
STEP1:
	ADD(R26,R26,R26)
	ADD(R25,R25,R25)
	CMPLE(RA,R26,R24)
	BEQ(R24,STEP1,R31)
	ADD(R26,RB,R26)
	ADDC(R25,0x1,R25)
STEP2:
	SUB(R26,RB,R26)
	SUBC(R25,0x1,R25)
	CMPLE(R26,RA,R24)
	BEQ(R24,STEP2,R31)	
	ADD(R25,R31,RC)}
	
BR(START)
A:	LONG(0x0)
	LONG(1000)
	LONG(2)

START:
ADDC(R31,A,R2)
LD(R2,4,R0)
LD(R2,8,R1)
DIVI(R0,R1,R0)
ST(R0,A,R31)
HALT()

